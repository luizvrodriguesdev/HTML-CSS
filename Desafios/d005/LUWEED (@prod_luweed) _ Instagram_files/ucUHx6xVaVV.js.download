;/*FB_PKG_DELIM*/

__d("MWPColorUtils",["I64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("I64").to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}function a(a,b){a=[].concat(a).sort(function(a,b){return d("I64").to_int32(a.gradientIndex)-d("I64").to_int32(b.gradientIndex)|0}).map(function(a){return h(a.color)});var e=a.length;if(e!==1){if(e!==0){e=b!=null;var f=[];b!=null&&f.push(a[0]+" calc(100vh - "+String(b.totalHeight)+"px + "+String(b.headerHeight)+"px)");for(var g=e?1:0,e=a.length-(e?2:1)|0;g<=e;++g)f.push(a[g]);b!=null&&(f.push(a[a.length-1|0]+" calc(100% - "+String(b.footerHeight)+"px)"),f.push(a[a.length-1|0]));g=f.join(", ");return"linear-gradient("+g+")"}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}g.int64ToHex=h;g.gradient=a}),98);
__d("useMWInlineStylesForReply",["MAWGating","MWLSThreadDisplayContext","MWPColorUtils","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b,e){var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=f!=="Inbox",i=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return h(function(){if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils").gradient(b,g?{footerHeight:56,headerHeight:d("MAWGating").isArmadillo()?32:48,totalHeight:i?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[e,b,a.fallbackColor,g,i])}g["default"]=a}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.createContext,j=e.useContext;e={isSecure:!1,threadKey:d("I64").zero};var k=i(e);function a(){return j(k).threadKey}function b(){return j(k).isSecure}function c(a){var b=a.children,c=a.isSecure,e=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{isSecure:c,threadKey:e}},[c,e]);return h.jsx(k.Provider,{value:a,children:b})}c.displayName=c.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.useMWPAudioPlaybackIsSecureThread=b;g.MWPAudioPlaybackThreadContextProvider=c}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","bx","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.createContext,l=j.useCallback,m=j.useContext,n=j.useEffect,o=j.useMemo,p=j.useRef,q=j.useState,r=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function s(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function t(a){var b=Array.from(r.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function u(a){return h._({"*":"{playback rate}x"},[h._param("playback rate",a,[0])])}u.displayName=u.name+" [from "+f.id+"]";j={activeAudio:null,activeThreadKey:d("I64").zero,addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),getNewOrExistingAudio:s,onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:u(r.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var v=k(j),w=s(c("bx").getURL(c("bx")("577")));function a(a,b,c){var e=m(v),f=e.activeAudio,g=e.activeThreadKey,h=e.addNextPlayableUrl,i=e.getNewOrExistingAudio,j=e.setUseOutOfChatPlayback,k=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!c||d("I64").is_zero(g)||d("I64").is_zero(k))return;j(!d("I64").equal(g,k));return function(){j(d("I64").equal(g,k))}},[f,g,j,c,k]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){if(!c)return s(a);b!=null&&b!==""&&h(a,b);return i(a,k)}},[h,i,b,a,c,k])}function e(){var a=m(v),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function x(){var a=m(v),b=a.activeAudio,c=a.activeThreadKey;a=a.clearActiveAudio;return[b,a,c]}function y(a){a=a.children;var b=p(new Map()),c=p(new Map()),e=p([]);n(function(){var a=e.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var f=q(r.NORMAL),g=f[0],h=f[1],j=o(function(){return u(g)},[g]);f=q(d("I64").zero);var k=f[0],m=f[1];f=q(null);var x=f[0],y=f[1];f=q(!1);var z=f[0],A=f[1],B=o(function(){return z?x:null},[x,z]),C=l(function(){y(function(a){a!=null&&a.pause();return null})},[]),D=l(function(a,d){var f,h=(f=b.current.get(a))!=null?f:s(a);h.playbackRate=g;f=function(a,b){h.addEventListener(a,b),e.current.push([h,a,b])};var i=function(){var d=c.current.get(a);if(d!=null){var e=b.current.get(d);if(e!=null&&e.paused)return void w.play().then(function(){y(e);return e.play()["catch"](function(){return y(null)})})}y(null)};f("ended",i);i=function(){for(var a=b.current.values(),c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==h&&f.pause()}y(h);m(d)};f("playing",i);b.current.set(a,h);return h},[g]),E=l(function(){h(function(a){a=t(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),F=l(function(a,b){c.current.set(a,b)},[]);f=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:B,activeThreadKey:k,addNextPlayableUrl:F,clearActiveAudio:C,getNewOrExistingAudio:D,onChangePlaybackRate:E,playbackRateLabel:j,setUseOutOfChatPlayback:A}},[B,k,F,C,D,E,j]);return i.jsx(v.Provider,{value:f,children:a})}y.displayName=y.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=x;g.MWPAudioPlaybackContextProvider=y}),98);
__d("MessengerThreadThemeGradientType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE_BUBBLE_OUTBOUND:0,MESSAGE_BUBBLE_INBOUND:1,THREADVIEW_BACKGROUND:2,DELIVERY_RECEIPT:3,COMPOSER_CIRCLE_BUTTON:4,COMPOSER_SEND_BUTTON:5,EMPHASIS:6});f["default"]=a}),66);
__d("last",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=null;if(Array.isArray(a)||typeof a==="string")a.length&&(b={value:a[a.length-1]});else for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b=b||{};b.value=e}return b?b.value:null}f["default"]=a}),66);
__d("MWPThreadTheme.bs",["I64","Int64Hooks","LSIntEnum","MWPColorUtils","MessengerThreadThemeGradientType","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","first","last","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react"),i=h.createContext,j=h.createElement,k=h.useContext,l=h.useMemo,m=h.useState;h={accessibilityLabel:"Default Blue",fallbackColor:d("I64").of_string("-16743169"),fbid:d("I64").of_string("196241301102133"),isDeprecated:!1,reverseGradiantsForRadial:!1,themeIdx:d("I64").of_string("94")};var n=[],o={gradientColors:n,threadTheme:h};h={accessibilityLabel:"Default Blue",fallbackColor:d("I64").of_string("-16743169"),fbid:d("I64").of_string("196241301102133"),isDeprecated:!1,reverseGradiantsForRadial:!1,themeIdx:d("I64").of_string("94")};n=n;function a(){}n={gradientColors:n,previewId:void 0,setPreviewId:a,threadTheme:h};var p=i(n);function q(a,b){var e=c("useReStore")(),f=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){if(a!=null)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("thread_themes")),{hd:a,tl:0});else return d("SortedAsyncIterable.bs").empty()},[e,a]),"h337iq3s"),g=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){if(a!=null)return d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("gradient_colors")),{hd:a,tl:0}),function(a){return d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))});else return d("SortedAsyncIterable.bs").empty()},[e,a]),"jo78v8kc");return l(function(){if(f!=null)return{gradientColors:g,threadTheme:f};else return b},[f,g,b])}function b(a){var b=a.children,c=a.themeFbid;a=a.defaultTheme;a=a===void 0?o:a;var e=m(function(){}),f=e[0],g=e[1];e=d("Int64Hooks").useMemoInt64(function(){if(f!=null)return f;else return c},[c,f]);var h=q(e,a);e=d("Int64Hooks").useMemoInt64(function(){return{gradientColors:h.gradientColors,previewId:f,setPreviewId:g,threadTheme:h.threadTheme}},[h,g,f]);return j(p.Provider,{children:b,value:e})}b.displayName=b.name+" [from "+f.id+"]";function e(){return k(p)}function r(){var a=k(p),b=a.gradientColors;a=a.threadTheme;b=c("first")(b);if(b!=null)return d("MWPColorUtils").int64ToHex(b.color);else return d("MWPColorUtils").int64ToHex(a.fallbackColor)}function s(){var a=k(p),b=a.gradientColors;a=a.threadTheme;b=c("last")(b);if(b!=null)return d("MWPColorUtils").int64ToHex(b.color);else return d("MWPColorUtils").int64ToHex(a.fallbackColor)}function t(a){return a.gradientColors.length>1}a=o;h=n;i=p;f=b;n=r;b=s;r=t;g.useHook=e;g.mwDefaultTheme=a;g.defaultContextValue=h;g.context=i;g.make=f;g.useTop=n;g.useBottom=b;g.isGradient=r}),98);
__d("MWPAudioPlayer.react",["fbt","$InternalEnum","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","MWPAudioPlaybackContext.react","MWPAudioPlaybackThreadContext.react","MWPThreadTheme.bs","cancelAnimationFrame","formatDurationSeconds","promiseDone","qex","react","requestAnimationFrameAcrossTransitions","stylex","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.createContext,l=j.forwardRef,m=j.useCallback,n=j.useContext,o=j.useEffect,p=j.useImperativeHandle,q=j.useLayoutEffect,r=j.useMemo,s=j.useRef,t=j.useState,u=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),v=3,w=3,x=44,y=4,z={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x8hmdaw",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1p6odiv",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},A={common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"xipm1xi","::after_borderEndColor":"x24l0bi","::after_borderBottomColor":"x11usdlg","::after_borderStartColor":"xcukw63","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0}};function B(){var a=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackIsSecureThread(),b=n(X);if(b===W.RECORDER)return!1;b=(b=c("qex")._("303"))!=null?b:!1;if(!b)return!1;b=(b=c("qex")._("339"))!=null?b:!1;return b===a}j=h._("Play");var C=h._("Stop recording"),D=h._("Pause");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function e(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}e.displayName=e.name+" [from "+f.id+"]";function E(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}E.displayName=E.name+" [from "+f.id+"]";function F(a){var b=a.currentTime;a=a.duration;return i.jsx("div",{"aria-label":h._("Audio scrubber"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}F.displayName=F.name+" [from "+f.id+"]";function G(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function H(a){var b=a.audioEl;a=a.children;var d=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=G(a)},[b]),e=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=G(a)},[b]),f=m(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),j=r(function(){return[{command:{key:c("CometKeys").UP},description:h._("Increases slider value one step."),handler:e},{command:{key:c("CometKeys").DOWN},description:h._("Decreases slider value one step."),handler:d},{command:{key:c("CometKeys").LEFT},description:h._("Decreases slider value one step."),handler:d},{command:{key:c("CometKeys").RIGHT},description:h._("Increases slider value one step."),handler:e},{command:{key:c("CometKeys").HOME},description:h._("Sets slider to its minimum value."),handler:f},{command:{key:c("CometKeys").END},description:h._("Sets slider to its maximum value."),handler:g}]},[d,e,f,g]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:j,children:a})}H.displayName=H.name+" [from "+f.id+"]";function I(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=d("MWPThreadTheme.bs").useBottom(),f=B();b=f?{color:b?"var(--always-white)":"var(--always-black)"}:{color:b?e:void 0,cursor:"pointer"};return i.jsx("div",{className:c("stylex")(z.rightSideTop,!f&&z.rightSideBottom,f&&z.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}I.displayName=I.name+" [from "+f.id+"]";function J(){var a=B(),b=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),e=b[0];b=b[1];return!a?null:i.jsx(c("CometPressable.react"),{onPress:b,overlayDisabled:!0,children:i.jsx("div",{className:"x6s0dn4 x1p6odiv x78zum5 x1nxh6w3 x1s688f xi0exxh xl56j7k x1n2onr6 x87ps6o x1gslohp x14hiurz xfj52jq xykzs3s x17xv1ja x1mvicbb x16n37ib xq8finb x1691je0",children:e})})}J.displayName=J.name+" [from "+f.id+"]";function K(a){var b=a.disabled,d=a.icon,e=a.label;a=a.onPress;var f=B(),g=f?{backgroundColor:"transparent"}:{};return i.jsx(c("CometPressable.react"),{"aria-label":e,disabled:b,onPress:a,overlayDisabled:f,overlayRadius:"50%",style:g,testid:void 0,xstyle:A.pressable,children:d})}K.displayName=K.name+" [from "+f.id+"]";function L(){var a=B();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function M(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return S(c,0,1)}function N(a,b){var c=a.currentTime,d=a.duration;a=a.xPosition;return i.jsx("div",{"aria-label":h._("Audio scrubber"),"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":c,className:"x14hiurz x1inr27j x1vcqv9c xfrm7hi xpbad92 x49dmcg xn3w4p2 x10l6tqk xwa60dl x1cb1t30 x51ohtg x1vjfegm",ref:b,role:"slider",style:{left:a.toFixed(2)+"%"}})}N.displayName=N.name+" [from "+f.id+"]";var O=l(N);function P(a){var b=a.hasEnded,c=b===void 0?!1:b,d=a.isListened;b=a.isPlaying;var e=b===void 0?!1:b,f=a.outgoing,g=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isListened","isPlaying","outgoing","scrubberLeft"]);var h=s(null);a=r(function(){var a=h.current;if(a==null)return"auto";a=a.getBoundingClientRect();a=a.left;var b="auto";d===!0&&c?b=f===!0?"var(--secondary-button-background-on-dark)":"var(--non-media-pressed-on-dark)":e&&(b=f===!0?"var(--secondary-button-background-on-dark)":"var(--non-media-pressed-on-dark)",g>=a&&(b=f===!0?"var(--always-white)":"var(--always-black)"));return b},[d,c,e,f,g]);var j=f===!0?"xe3v8dz":"x8hmdaw";return i.jsx("rect",babelHelpers["extends"]({},b,{className:j,ref:h,style:{fill:a}}))}P.displayName=P.name+" [from "+f.id+"]";var Q=l(function(a,b){var d=a.audioEl,e=a.children,f=a.hasEnded,g=a.isListened,h=a.isPlaying;h=h===void 0?!0:h;var j=a.onUpdateScrubber,k=a.outgoing,l=a.waveformData;a=a.xstyle;var m=B(),n=s(),o=s(),q=t(0),r=q[0],u=q[1];q=t(0);var v=q[0],w=q[1];p(b,function(){return{updateHighlight:function(a){var b=n.current,c=o.current;if(b==null)return;if(m){if(c!=null){c.style.left=a.toFixed(2)+"%";c.style.transition="transform 1s ease-out";c=c.getBoundingClientRect();c=c.left;w(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[m]);q=function(a){if(n.current!=null){var b,c;b=(b=n.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=n.current)==null?void 0:c.offsetWidth)!=null?c:0;u(b/c*100);if(d!=null&&d.current!=null){b=d.current;c=b.duration;b=M(a,n.current)*c;j&&j(b)}}};if(m){return i.jsxs(i.Fragment,{children:[e,i.jsxs("div",{className:"x17qophe x13vifvy x6s0dn4 x78zum5 x5yr21d x1n2onr6 xh8yej3 x1vjfegm",onMouseDownCapture:q,ref:n,children:[h?i.jsx(O,{currentTime:d==null?void 0:(b=d.current)==null?void 0:b.currentTime,duration:(q=d==null?void 0:(e=d.current)==null?void 0:e.duration)!=null?q:0,ref:o,xPosition:r}):null,i.jsx(V,{hasEnded:f,isListened:g,isPlaying:h,outgoing:k,scrubberLeft:v,waveformData:l})]})]})}return i.jsx("div",{className:c("stylex")(z.highlight,a),ref:n})});function R(a){var b=a.audioEl,c=a.children,d=a.currentTime,e=a.duration,f=a.hasEnded,g=a.hasScrubber,h=a.isListened,j=a.isPlaying;j=j===void 0?!0:j;var k=a.onUpdateScrubber,l=a.outgoing,m=a.progressHighlightRef,n=a.scrubberRef,o=a.waveformData;a=a.xstyle;var p=B();return p?i.jsx(Q,{audioEl:b,hasEnded:f,isListened:h,isPlaying:j,onUpdateScrubber:k,outgoing:l,ref:m,waveformData:o,xstyle:a,children:c}):i.jsxs(i.Fragment,{children:[i.jsx(Q,{ref:m,xstyle:a}),g?i.jsx(F,{currentTime:d,duration:e}):null,i.jsx(Q,{ref:n,xstyle:a}),c]})}R.displayName=R.name+" [from "+f.id+"]";function S(a,b,c){return Math.min(Math.max(b,a),c)}function T(a,b){if(a<=0)return b[0];if(a>=b.length-1)return b[b.length-1];var c=Math.floor(a);return b[c]+(a-c)*(b[c+1]-b[c])}function U(a,b){return new Float32Array(a).fill(b)}function aa(a,b){var c=a.length;if(c>=b)return a;var d=c>1&&b>1?(c-1)/(b-1):1;return U(b,0).map(function(b,c){return T(d*c,a)})}function ba(a,b){var c=r(function(){return a==null||a===""?u:Float32Array.from(a.split(",").map(Number))},[a]);return r(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(w*2)),d=aa(c,a),e=Math.floor(d.length/a),f=[];for(var g=0;g<a;g++){var h=e*g,i=0;for(var j=0;j<e;j++)i+=Math.abs(d[h+j]);f.push(i/e)}var k=Math.min.apply(Math,f);h=Math.max.apply(Math,f);var l=h-k,m=y;j=x;var n=j-m;return f.map(function(a,b){a=Math.ceil((a-k)/l*n+m);var c=v,d=w;b=b*w*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function V(a){var b=a.hasEnded,c=a.isListened,d=a.isPlaying,e=a.outgoing,f=a.scrubberLeft;a=a.waveformData;var g=s(null),h=t(0),j=h[0],k=h[1];q(function(){if(g.current!=null){var a=g.current.getBoundingClientRect();k(a.width)}},[]);h=ba(a,j);return h.length===0?i.jsx("div",{className:"xn3w4p2 x1n2onr6 xh8yej3",ref:g}):i.jsx("div",{className:"xn3w4p2 x1n2onr6 xh8yej3",ref:g,children:i.jsx("svg",{"aria-hidden":!0,className:"x5yr21d x10l6tqk xh8yej3",children:h.map(function(a,g){return i.createElement(P,babelHelpers["extends"]({},a,{hasEnded:b,isListened:c,isPlaying:d,key:g,outgoing:e,scrubberLeft:f}))})})})}V.displayName=V.name+" [from "+f.id+"]";var W=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),X=k(W.PLAYER);function Y(a){var b=a.audioEl,c=a.children,d=a.hasScrubber,e=a.scrubberRef,f=a.style,g=a.testid;g=a.useCase;a=B();var h=s(),j=function(a){var c=b.current,d=h.current;c!=null&&d!=null&&(c.currentTime=M(a,d)*c.duration*100)},k=function(a){if(h.current!=null&&e.current!=null)return e.current.updateHighlight(M(a,h.current)*100)},l=function(){if(e.current!=null)return e.current.updateHighlight(0)};f=babelHelpers["extends"]({cursor:d?"pointer":"default",height:a&&g===W.PLAYER?70:36},f);a=d&&!a;return i.jsx(X.Provider,{value:g,children:i.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 x1qughib x6ikm8r x10wlt62 x1n2onr6","data-testid":void 0,onClick:a?j:void 0,onMouseLeave:d?l:void 0,onMouseMove:a?k:void 0,ref:h,style:f,children:c})})}Y.displayName=Y.name+" [from "+f.id+"]";function ca(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function Z(a,b,d,e,f,g){f===void 0&&(f=!1);var h=s();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var $=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function da(a,b,e,f,g){var h=B(),i=c("useStable")(function(){return e}),j=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,h),k=s(j);a=t(function(){return j==null?$.NONE:j.paused?$.PAUSED:$.PLAYING});var l=a[0],n=a[1];b=t(function(){var a;return(a=j==null?void 0:j.currentTime)!=null?a:0});a=b[0];var p=b[1];o(function(){var a=k.current;if(a==null)return;var b=function(){return n($.PAUSED)},c=function(){return n($.PLAYING)},d=function(){return n($.LOADING)},e=function(){return p(a.currentTime)},f=function(){k.current=a,b()},g=function(){p(0),n($.ENDED)};a.addEventListener("loadstart",d);a.addEventListener("canplay",f);a.addEventListener("timeupdate",e);a.addEventListener("playing",c);a.addEventListener("pause",b);a.addEventListener("ended",g);return function(){a.removeEventListener("loadstart",d),a.removeEventListener("canplay",f),a.removeEventListener("timeupdate",e),a.removeEventListener("playing",c),a.removeEventListener("pause",b),a.removeEventListener("ended",g),h||a.pause()}},[h]);b=m(function(){var a=k.current;if(a==null)return;switch(l){case $.NONE:case $.LOADING:return;case $.ENDED:case $.PAUSED:c("promiseDone")(a.play(),function(){return n($.PLAYING)},i);return;case $.PLAYING:a.pause();n($.PAUSED);return}},[i,l]);var q=m(function(a){var b=k.current;if(b==null)return;b.currentTime=a;p(a)},[]);return[l,a,k,b,Z(g,k,a,l===$.PLAYING,f,l===$.PAUSED&&a===0),q]}function ea(){var a=B(),b=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),e=b[0],f=b[1];b=b[2];var g=t(function(){return e==null?$.NONE:e.paused?$.PAUSED:$.PLAYING}),h=g[0],i=g[1];g=t(function(){return e!=null?e.duration-e.currentTime:0});var j=g[0],k=g[1];o(function(){if(e==null)return;var a=function(){return k(e.duration-e.currentTime)},b=function(){return i($.LOADING)},d=function(){return i($.ENDED)};e.addEventListener("timeupdate",a);e.addEventListener("loadstart",b);e.addEventListener("ended",d);c("promiseDone")(e.play(),function(){return i($.PLAYING)});return function(){e.removeEventListener("timeupdate",a),e.removeEventListener("loadstart",b),e.removeEventListener("ended",d)}},[e]);g=m(function(){if(e==null)return;switch(h){case $.NONE:case $.LOADING:return;case $.ENDED:case $.PAUSED:c("promiseDone")(e.play(),function(){return i($.PLAYING)});return;case $.PLAYING:e.pause();i($.PAUSED);return}},[e,h]);return[b,h===$.PLAYING,e!=null&&a,j,g,f]}g.styles=A;g.useShowNewUX=B;g.playLabel=j;g.stopLabel=C;g.pauseLabel=D;g.PlayIcon=a;g.StopIcon=e;g.PauseIcon=E;g.ScreenReaderLabel=F;g.KeyCommands=H;g.Timer=I;g.PlaybackRateButton=J;g.PlaybackButton=K;g.usePlaybackButtonContainerStyle=L;g.Highlight=Q;g.HighlightV2=R;g.Waveform=V;g.UseCase=W;g.Container=Y;g.useResetHighlightProgress=ca;g.useProgressLiveUpdate=Z;g.State=$;g.useControlCenter=da;g.useOutOfChatControlCenter=ea}),98);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","TrustedTypesWebWorkerScriptURLPolicy","URI","WebWorkerConfig","XHRRequest","cr:951783","emptyFunction","filterObject","getCrossOriginTransport","gkx","isSameOrigin","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("isSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c){return new a.Worker(b("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(c))}var n=b("memoize")(function(){var a,c;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var d=m(a);d.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("MWPUseVoiceRecorder.bs",["MWChatRecorderUtilsWorkerResource","MWPAudioPlayer.react","Promise","WebWorker","clearTimeout","promiseDone","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useReducer,m=i.useRef;function a(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function e(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function n(a){switch(a.TAG){case 0:return 0;case 1:return a._1;case 2:case 3:break}return Math.max(a._0-a._1,0)}function o(a){switch(a.TAG){case 0:return 0;case 1:return a._2;case 2:case 3:return a._0}}function p(a){switch(a.TAG){case 0:case 1:return;case 2:case 3:return a._1}}function q(a){switch(a.TAG){case 0:case 2:return!1;case 1:case 3:return!0}}function r(a){if(a.TAG===2)return a._1===0;else return!1}function s(a){switch(a.TAG){case 1:return d("MWPAudioPlayer.react").stopLabel;case 0:case 2:return d("MWPAudioPlayer.react").playLabel;case 3:return d("MWPAudioPlayer.react").pauseLabel}}function t(a,b){switch(a.TAG){case 1:return h.jsx(d("MWPAudioPlayer.react").StopIcon,{color:b});case 0:case 2:return h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:b});case 3:return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:b})}}t.displayName=t.name+" [from "+f.id+"]";function u(a,b){switch(b.TAG){case 0:return{_0:b._0,_1:0,_2:b._1,TAG:1};case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._1,_1:0,TAG:2};case 2:return{_0:a._0,_1:a._1,TAG:3};case 3:return{_0:a._0,_1:a._1,TAG:2}}case 2:var c=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:a._0,_1:c,_2:a._2,TAG:1};case 2:return{_0:c,_1:a._1,TAG:2};case 3:return{_0:c,_1:a._1,TAG:3}}case 3:c=b._0;switch(a.TAG){case 0:case 1:return a;case 2:var d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:2};case 3:d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:3}}case 4:return{_0:b._0,_1:0,TAG:2};case 5:return{_0:void 0,TAG:0}}}function v(){if(window.AudioContext!=null)return new window.AudioContext();if(window.webkitAudioContext!=null)return new window.webkitAudioContext()}function w(a,d,e,f){a===void 0&&(a=60);f=l(u,{_0:void 0,TAG:0});var g=f[0],h=f[1],i=c("useIsMountedRef")(),n=m(),o=m([]),p=m([]),q=m(),r=m(),s=m(),t=m(),w=m(),x=j(function(a){if(!i.current)return;var b=URL.createObjectURL(a);s.current=b;var c=new Audio(b);c.addEventListener("canplay",function(){r.current=c;var b=c.duration;h({_0:b,TAG:2});b={duration:b,file:a};t.current=b;var d=w.current;if(d!=null)return d(b)});c.addEventListener("timeupdate",function(){var a;a=(a=r.current)==null?void 0:a.currentTime;if(a==null)return;return h({_0:a,TAG:3})});c.addEventListener("durationchange",function(){var a;a=(a=r.current)==null?void 0:a.duration;if(!Number.isNaN(a))return h({_0:a,TAG:2})})},[]),y=j(function(){if(n.current==null||q.current==null)return;var a=o.current,b=p.current;a={buffersL:a,buffersR:b,sampleRate:n.current};q.current.postMessage(a)},[]),z=(g==null?void 0:g.TAG)===1,A=j(function(a){if(!z)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();o.current.push(b);p.current.push(a)},[z]);k(function(){if(g.TAG!==1)return;var a=g._0;o.current=[];p.current=[];var b,e=v();if(e!=null){var f=e.destination;n.current=e.sampleRate;b=e.createScriptProcessor(4096,2,2);var h=e.createMediaStreamSource(a);q.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(x).setAllowCrossPageTransition(!0).execute();b.addEventListener("audioprocess",A);h.connect(b);b.connect(f)}d!=null&&d();return function(){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),e!=null&&c("promiseDone")(e.close()),b!=null&&b.removeEventListener("audioprocess",A)}},[z]);var B=c("usePrevious")(g);k(function(){B!=null&&B.TAG===1&&g.TAG===2&&y()},[B,g]);k(function(){if(!z)return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a)return h({_0:a,TAG:4});h({_0:f,TAG:2});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[z]);f=j(function(b){return h({_0:b,_1:a,TAG:0})},[]);var C=j(function(){var a;h({_0:void 0,TAG:5});(a=r.current)==null?void 0:a.pause();r.current=void 0;t.current=void 0;n.current=void 0;a=s.current;if(a!=null){URL.revokeObjectURL(a);s.current=void 0;return}},[]),D=j(function(a){if(r.current==null)return h({_0:void 0,TAG:1});switch(a.TAG){case 0:case 1:return h({_0:void 0,TAG:1});case 2:r.current.play().then(function(){h({_0:void 0,TAG:1});return b("Promise").resolve()})["catch"](function(a){e!=null&&e();return b("Promise").resolve()});return;case 3:r.current.pause();return h({_0:void 0,TAG:1})}},[r]),E=j(function(a){return new(b("Promise"))(function(c,b){b=t.current;if(b!=null)return c(b);w.current=function(a){return c(a)};if(a.TAG===1)return D(a)})},[]);return{audioEl:r,getVoiceClip:E,reset:C,start:f,state:g,toggle:D}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=n;g.getDuration=o;g.getCurrentTime=p;g.isProgressing=q;g.isCompleted=r;g.getPlaybackLabel=s;g.getPlaybackIcon=t;g.useVoiceRecorder=w}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIntEnum","LSIssueNewError","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.createContext;var j=b.createElement,k=b.useCallback,l=b.useRef,m=e(null);function n(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return j(m.Provider,{children:b,value:a})}var o={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function p(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function q(a){switch(a){case 0:return void 0;case 1:return h._("Certain file types are unsupported in this chat.").toString();default:return h._("Some files are unsupported and cannot be shared to this chat").toString()}}function r(a,b){var d=q(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,d,d,void 0,void 0,c("LSFactory")(a))},"readwrite"))}function s(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var t=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=l({enabled:!1,handler:null}),m=l(null),q=c("useReStore")(),u=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType))&&!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),g):!1;g=!c("gkx")("1835569");var v=e===!0||g||((e=j.current)==null?void 0:e.handler)==null||u;g=function(a){var b;return((b=j.current)==null?void 0:b.handler)==null?!1:!p(a).some(function(a){return t.has(a)})};e=c("useFileDragEvents")(function(){return!1},void 0,g);g=k(function(a){var b;if(((b=j.current)==null?void 0:b.enabled)===!1)return;b=(b=j.current)==null?void 0:b.handler;if(b==null){if(!u){var d=j.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(s):d;d.length!==a.length&&r(q,d.length);!v&&a.length!==0&&b(a)},[f,v,u,q]);c("useFileDragEvents")(g,m.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(o.root,(g=a)!=null?g:!1),ref:m,children:[i.jsx(n,{fileUploadHandlerConfigRef:j,children:b}),!v&&e?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWXText.react"),{type:"body1",children:h._("Drop files here")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=m;g.MWV2FileDropzone=a}),98);
__d("MessengerSurfaceType.bs",[],(function(a,b,c,d,e,f){"use strict";a="MESSENGER";b="WORK_QUIKCHAT";c="WORK_CHAT";d="WORKROOMS";e="WORKROOMS_IN_CALL";var g="OTHER";f.messenger=a;f.workQuickchat=b;f.workChat=c;f.workrooms=d;f.workroomsInCall=e;f.other=g}),66);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(d("MessengerSurfaceType.bs").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType.bs").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=h.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType.bs").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("messages").index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[b,a.messageId],f.id+":22"),g=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},[b,e],f.id+":29");return g}g["default"]=a}),98);
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null;a={get:function(){i==null&&(i=new h());i.state==="closed"&&(c("FBLogger")("project").warn("AudioContext Singleton has been closed"),i=new h());return i}};b=a;g["default"]=b}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("AudioContextSingleton").get();try{var d=(yield c("fetch")(a));d=(yield d.arrayBuffer());b=(yield b.decodeAudioData(d));return h(b)}catch(b){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a.toString());return Float32Array.of()}});return i.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.attachmentFbid,f=a.messageId,g=a.threadKey,h=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield h.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.table("attachments");var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(g,f,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}(),[h,g,f,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["FBLogger","cr:6746","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useState,k=3,l=",",m=["blob:","data:"];function a(a,d){var e=j(a.waveformData),f=e[0],g=e[1],n=b("cr:6746")(a),o=c("useMWAttachmentUpdater")(a),p=d(a),q=h(function(){if(p!=null&&p!==""){var a=new URL(p);if(m.includes(a.protocol))return c("fetchMWPAudioWaveformDataForURL")(a)}return n()},[n,p]);i(function(){if(f!=null&&f.length>k)return;c("promiseDone")(q(),function(a){return a.length>0&&g(a.join(l))})},[q,f]);i(function(){f!=null&&f.length>k&&f!==a.waveformData&&void o({waveformData:f})["catch"](function(a){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,f]);return f}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;h(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_product","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["CometProgressRingIndeterminate.react","I64","MWLSThreadDisplayContext","MWPAudioPlayer.react","MWPColorUtils","MWPThreadTheme.bs","MessengerSurfaceQuickChat.bs","react","requireDeferred","stylex","useMWInlineStylesForReply","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioPlayer.react"),l={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function m(a){return i(function(){return[l.root,a?l.outgoing:l.incoming]},[a])}function n(a){var b=a.backgroundColor,c=a.disabled,e=a.hasEnded,f=a.isPaused,g=a.isPlaying;a=a.outgoing;var i=d("MWPAudioPlayer.react").useShowNewUX();i=i?a?"var(--always-white)":"var(--always-black)":a?b:void 0;if(g)return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:i});return f||e||c?h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:i}):null}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.backgroundColor,e=a.disabled,f=a.hasEnded,g=a.isLoading,i=a.isPaused,j=a.isPlaying,k=a.onPress,l=a.outgoing;a=a.scrubberRef;var m=d("MWPAudioPlayer.react").usePlaybackButtonContainerStyle();a=d("MWPAudioPlayer.react").useResetHighlightProgress(a);var o=j||i;return g?h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.pressable),onMouseMove:o?a:void 0,style:m,children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):h.jsx("div",{onMouseMove:o?a:void 0,style:m,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{disabled:e,icon:h.jsx(n,{backgroundColor:b,disabled:e,hasEnded:f,isPaused:i,isPlaying:j,outgoing:l}),label:j?d("MWPAudioPlayer.react").pauseLabel:d("MWPAudioPlayer.react").playLabel,onPress:k})})}o.displayName=o.name+" [from "+f.id+"]";function p(){k.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.customIncomingBackgroundColor,f=a.disableTheme;f=f===void 0?!1:f;var g=a.getPlayableUrl,i=a.isReply;i=i===void 0?!1:i;var k=a.outgoing;a=a.width;var l=d("MWPThreadTheme.bs").useHook(),n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface();f=f?d("MWPThreadTheme.bs").defaultContextValue:l;l=f.gradientColors;f=f.threadTheme;var r=b.playableDurationMs;r=d("I64").to_float((r=r)!=null?r:d("I64").zero)/1e3;var s=c("useMWNextAttachment")(b),t=c("useMWPAudioWaveformData.react")(b,g);g=d("MWPAudioPlayer.react").useControlCenter(g(b),s!=null?g(s):void 0,p,!1,r);s=g[0];var u=g[1],v=g[2],w=g[3],x=g[4];g=g[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(v,b);var y=s===d("MWPAudioPlayer.react").State.NONE,z=s===d("MWPAudioPlayer.react").State.PLAYING,A=s===d("MWPAudioPlayer.react").State.PAUSED,B=s===d("MWPAudioPlayer.react").State.LOADING;s=s===d("MWPAudioPlayer.react").State.ENDED;var C=z||A,D=k&&l.length>1,E=j(),F=m(k);l=c("useMWInlineStylesForReply")(f,l,k);var G=l.backgroundAttachment,H=l.backgroundColor;l=l.backgroundImage;f={backgroundAttachment:i?G:void 0,backgroundColor:i?H:k?D?"transparent":d("MWPColorUtils").int64ToHex(f.fallbackColor):(G=e)!=null?G:"var(--wash)",backgroundImage:i?l:void 0,borderRadius:D?void 0:"18px",width:a!=null?a:n!=null?n==="Inbox"?"218px":n==="ChatTab"&&q?"168px":"180px":"180px"};e=C?Math.max(r-u,0):0;return h.jsx(d("MWPAudioPlayer.react").KeyCommands,{audioEl:v,children:h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:v,hasScrubber:C,scrubberRef:E,style:f,testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.PLAYER,children:h.jsxs("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.common,D?d("MWPAudioPlayer.react").styles.transparent:!1),children:[h.jsx(d("MWPAudioPlayer.react").HighlightV2,{audioEl:v,currentTime:u,duration:r,hasEnded:s,hasScrubber:C,isListened:b.isAttachmentConsumed===!0,isPlaying:z,onUpdateScrubber:g,outgoing:k,progressHighlightRef:x,scrubberRef:E,waveformData:t,xstyle:F,children:h.jsx(o,{backgroundColor:H,disabled:y,hasEnded:s,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:k,scrubberRef:E})}),h.jsx("div",{children:z?h.jsxs(h.Fragment,{children:[h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:k,time:e}),h.jsx(d("MWPAudioPlayer.react").PlaybackRateButton,{})]}):h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:k,time:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=m;g.MWAudioPlayer=a}),98);
__d("DateStrings",["fbt"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q;function a(a){n||(n=[h._("Sunday"),h._("Monday"),h._("Tuesday"),h._("Wednesday"),h._("Thursday"),h._("Friday"),h._("Saturday")]);return n[a]}function b(a){p||(p=[h._("SUNDAY"),h._("MONDAY"),h._("TUESDAY"),h._("WEDNESDAY"),h._("THURSDAY"),h._("FRIDAY"),h._("SATURDAY")]);return p[a]}function c(a){o||(o=[h._("Sun"),h._("Mon"),h._("Tue"),h._("Wed"),h._("Thu"),h._("Fri"),h._("Sat")]);return o[a]}function d(a){q||(q=[h._("SUN"),h._("MON"),h._("TUE"),h._("WED"),h._("THU"),h._("FRI"),h._("SAT")]);return q[a]}function r(){i=[h._("January"),h._("February"),h._("March"),h._("April"),h._("May"),h._("June"),h._("July"),h._("August"),h._("September"),h._("October"),h._("November"),h._("December")]}function e(a){i||r();return i[a-1]}function f(){i||r();return i.slice()}function s(a){l||(l=[h._("JANUARY"),h._("FEBRUARY"),h._("MARCH"),h._("APRIL"),h._("MAY"),h._("JUNE"),h._("JULY"),h._("AUGUST"),h._("SEPTEMBER"),h._("OCTOBER"),h._("NOVEMBER"),h._("DECEMBER")]);return l[a-1]}function t(a){j||(j=[h._("Jan"),h._("Feb"),h._("Mar"),h._("Apr"),h._("May"),h._("Jun"),h._("Jul"),h._("Aug"),h._("Sep"),h._("Oct"),h._("Nov"),h._("Dec")]);return j[a-1]}function u(a){k||(k=[h._("JAN"),h._("FEB"),h._("MAR"),h._("APR"),h._("MAY"),h._("JUN"),h._("JUL"),h._("AUG"),h._("SEP"),h._("OCT"),h._("NOV"),h._("DEC")]);return k[a-1]}function v(a){m||(m=["",h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")]);return m[a]}function w(a){switch(a){case 1:return h._("1st");case 2:return h._("2nd");case 3:return h._("3rd");case 4:return h._("4th");case 5:return h._("5th");case 6:return h._("6th");case 7:return h._("7th");case 8:return h._("8th");case 9:return h._("9th");case 10:return h._("10th");case 11:return h._("11th");case 12:return h._("12th");case 13:return h._("13th");case 14:return h._("14th");case 15:return h._("15th");case 16:return h._("16th");case 17:return h._("17th");case 18:return h._("18th");case 19:return h._("19th");case 20:return h._("20th");case 21:return h._("21st");case 22:return h._("22nd");case 23:return h._("23rd");case 24:return h._("24th");case 25:return h._("25th");case 26:return h._("26th");case 27:return h._("27th");case 28:return h._("28th");case 29:return h._("29th");case 30:return h._("30th");case 31:return h._("31st");default:throw new Error("Invalid day of month.")}}function x(){return h._("Day:")}function y(){return h._("Month:")}function z(){return h._("Year:")}function A(){return h._("Hour:")}function B(){return h._("Minute:")}function C(){return h._("dd")}function D(){return h._("mm")}function E(){return h._("yyyy")}function F(){return h._("h")}function G(){return h._("m")}function H(a){return a<12?h._("am"):h._("pm")}function I(a){return a<12?h._("AM"):h._("PM")}g.getWeekdayName=a;g.getUppercaseWeekdayName=b;g.getWeekdayNameShort=c;g.getUppercaseWeekdayNameShort=d;g._initializeMonthNames=r;g.getMonthName=e;g.getMonthNames=f;g.getUppercaseMonthName=s;g.getMonthNameShort=t;g.getUppercaseMonthNameShort=u;g.getOrdinalSuffix=v;g.getDayOfMonth=w;g.getDayLabel=x;g.getMonthLabel=y;g.getYearLabel=z;g.getHourLabel=A;g.getMinuteLabel=B;g.getDayPlaceholder=C;g.getMonthPlaceholder=D;g.getYearPlaceholder=E;g.getHourPlaceholder=F;g.getMinutePlaceholder=G;g.get12HourClockSuffix=H;g.getUppercase12HourClockSuffix=I}),98);
__d("IntlDateStringsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:IntlDateStringsLoggerConfig")}),null);
__d("IntlDateFormatsCLDRWidthEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({FULL:"full",LONG:"long",MEDIUM:"medium",SHORT:"short"});f["default"]=a}),66);
__d("RegionDatetimePatterns",[],(function(a,b,c,d,e,f){a=Object.freeze({DATE_SHORT:"date_short",DATETIME_SHORT_SHORT:"dateTime_short_short",TIME_SHORT:"time_short",TIME_MEDIUM:"time_medium",J:"j"});f["default"]=a}),66);
__d("flipObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.entries(a).reduce(function(b,c){var d=c[0];c=c[1];Object.prototype.hasOwnProperty.call(a,d)&&typeof c!=="object"&&typeof c!=="function"&&c!=null&&(b[String(c)]=d);return b},{})}f["default"]=a}),66);
__d("getCLDRLocalizedFormat",["CLDRDateFormatConfig","FBLogger","IntlDateFormatsCLDRWidthEnum","RegionDatetimePatterns","flipObject","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("CLDRDateFormatConfig").CLDRConfigeratorFormats,h=b("CLDRDateFormatConfig").CLDRRegionalConfigeratorFormats,i=b("flipObject")(b("RegionDatetimePatterns"));function a(a){if(a==null)throw b("unrecoverableViolation")('Format: "'+a+'", not supported by configurator.',"internationalization");var c,d,e=a.split("_"),f=e[0];e=e.slice(1);var l=f+"Formats";a in i?d=h:d=g;switch(l){case"dateFormats":case"timeFormats":var m=j(e[0]);if(m==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: "undefined"',"internationalization");c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('width: "'+m+'", with unsupported localization'),"internationalization");break;case"dateTimeFormats":m=j(e[0]);e=j(e[1]);if(m==null||e==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: dateFormatKey="undefined" timeFormatKey="undefined"',"internationalization");c=d[l][m];var n=d.dateFormats[m],o=d.timeFormats[e];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('date width: "'+m+'", and time width: ')+('"'+e+'", with unsupported localization'),"internationalization");c=c.replace("{0}",o).replace("{1}",n);break;default:l="availableFormats";m=f;m.includes("j")&&(m=k(m,d.timeFormats));c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", with key: "'+m+'", not supported by CLDR',"internationalization")}return c}function j(a){if(a==null)throw b("unrecoverableViolation")("Expected CLDR width key to not be null","internationalization");return b("IntlDateFormatsCLDRWidthEnum")[a.toUpperCase()]}function k(a,c){var d;c=c["short"];c==null?(b("FBLogger")("formatDate").blameToPreviousFile().warn('CLDR `timeFormat`, width `short` required for 24 hour localization not found for availableKey: "%s"',a),d="h"):d=c.includes("H")?"H":"h";return a.replace("j",d)}e.exports=a}),null);
__d("intlGetDateNumerics",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.utc===!0;b?b={dateDay:a.getUTCDate(),dateDayOfWeek:a.getUTCDay(),dateMonth:a.getUTCMonth(),dateYear:a.getUTCFullYear(),dateHours:a.getUTCHours(),dateMinutes:a.getUTCMinutes(),dateSeconds:a.getUTCSeconds(),dateMilliseconds:a.getUTCMilliseconds()}:b={dateDay:a.getDate(),dateDayOfWeek:a.getDay(),dateMonth:a.getMonth(),dateYear:a.getFullYear(),dateHours:a.getHours(),dateMinutes:a.getMinutes(),dateSeconds:a.getSeconds(),dateMilliseconds:a.getMilliseconds()};return b}f["default"]=a}),66);
__d("intlRenderJSDateSymbol",["DateStrings","padNumber","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){g===void 0&&(g=0);e=e.skipSuffixLocalization===!0;g=g;var h="";switch(b){case"\\":g++;if(f==null)throw c("unrecoverableViolation")("Only deprecated calls to `intlRenderJSDateSymbol()` use `localizedJSFormat`.","internationalization");h=f.charAt(g);break;case"d":h=c("padNumber")(a.dateDay,2);break;case"j":h=a.dateDay;break;case"S":h=d("DateStrings").getOrdinalSuffix(a.dateDay);break;case"D":h=d("DateStrings").getWeekdayNameShort(a.dateDayOfWeek);break;case"l":h=d("DateStrings").getWeekdayName(a.dateDayOfWeek);break;case"F":case"f":h=d("DateStrings").getMonthName(a.dateMonth+1);break;case"M":h=d("DateStrings").getMonthNameShort(a.dateMonth+1);break;case"m":h=c("padNumber")(a.dateMonth+1,2);break;case"n":h=a.dateMonth+1;break;case"Y":h=a.dateYear;break;case"y":h=(""+a.dateYear).slice(2);break;case"a":e?h=a.dateHours<12?"am":"pm":h=d("DateStrings").get12HourClockSuffix(a.dateHours);break;case"A":e?h=a.dateHours<12?"AM":"PM":h=d("DateStrings").getUppercase12HourClockSuffix(a.dateHours);break;case"g":a.dateHours===0||a.dateHours===12?h="12":h=a.dateHours%12;break;case"G":h=a.dateHours;break;case"h":a.dateHours===0||a.dateHours===12?h="12":h=c("padNumber")(a.dateHours%12,2);break;case"H":h=c("padNumber")(a.dateHours,2);break;case"i":h=c("padNumber")(a.dateMinutes,2);break;case"s":h=c("padNumber")(a.dateSeconds,2);break;case"X":h=c("padNumber")(a.dateMilliseconds,3);break;default:h=b}return{idx:g,rendered:String(h)}}g["default"]=a}),98);
__d("intlRenderCLDRDate",["CLDRDateFormatConfig","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=/\w+/;function a(a,c,d){var e=b("CLDRDateFormatConfig").intlDateSpecialChars,f="",g="",i=!1,j=[],k;a=a.split(e.cldrDelimiter+e.singleQuote).join(e.singleQuoteHolder);for(var l=0,m=a.length;l<m;l++){var n=a.charAt(l);!i?n===e.cldrDelimiter?i=!0:f.length===0||f[0]===n?f+=n:n===e.singleQuoteHolder?f+=e.singleQuote:(k=h(f,d,c),j.push(k.rendered),f=n):(f.length!==0&&(k=h(f,d,c),j.push(k.rendered),f=""),n===e.cldrDelimiter?(i=!1,j.push(g),g=""):n===e.singleQuoteHolder?g+=e.singleQuote:g+=n)}if(g.length!==0)throw b("unrecoverableViolation")('Format: "'+a+'" must contain closing str literal delimiter',"internationalization");f.length!==0&&(k=h(f,d,c),j.push(k.rendered));return j.join("")}function h(a,c,d){a=i(a);return b("intlRenderJSDateSymbol")(c,a,d)}function i(a){if(a in b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion)return b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion[a];if(g.test(a))throw b("unrecoverableViolation")('Unsupported CLDR symbol: "'+a+'". If string literal, wrap in delimiters',"internationalization");return a}e.exports=a}),null);
__d("formatDate",["CLDRDateFormatConfig","CLDRDateRenderingClientRollout","DateFormatConfig","FBLogger","IntlDateStringsTypedLoggerLite","IsInternSite","Random","getCLDRLocalizedFormat","intlGetDateNumerics","intlRenderCLDRDate","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({today:null,yesterday:null,thisWeek:null,thisMonth:null,thisYear:null,withinDay:null,withinWeek:null,withinMonth:null,withinYear:null,older:null,future:null,allOtherTimes:null});function h(a,b,d){a=a;d=d||{skipSuffixLocalization:!1,skipPatternLocalization:!1,utc:!1,formatInternal:!1,throwCLDRError:!1};if(b==null||b===""||a==null||!(a||a===0))return"";typeof a==="string"&&(isNaN(Number(a))&&c("FBLogger")("i18n-formatDate").event("date_string_must_be_timestamp").blameToPreviousFile().mustfix("The date passed to formatDate is a string, but not a timestamp. formatDate expects strings to be a string representation of a Unix "+('timestamp but was passed "'+a+'"')),a=parseInt(a,10));typeof a==="number"&&(a=new Date(a*1e3));if(!(a instanceof Date))throw c("unrecoverableViolation")("The date passed to formatDate must be either a unix timestamp or JavaScript date object.","internationalization");if(isNaN(a.getTime()))throw c("unrecoverableViolation")("Invalid date passed to formatDate","internationalization");a.getTime()>=1e15&&c("FBLogger")("i18n-formatDate").event("date_too_far_in_future").blameToPreviousFile().info("The date passed to formatDate is too far in the future. Did you mix up milliseconds/seconds?");b=k(a,b);a=c("intlGetDateNumerics")(a,d);return i(b,a,d)}h.DEFAULT_FORMAT="M j, Y g:i A";h.periodNames=Object.freeze(Object.keys(a));function i(a,b,d){var e=a,f=!!d.skipPatternLocalization,g=d.formatInternal===!0;if(!f&&(g||!c("IsInternSite").is_intern_site))if(a in c("CLDRDateFormatConfig").supportedPHPFormatsKeys)try{f=c("CLDRDateFormatConfig").supportedPHPFormatsKeys[a];g=c("getCLDRLocalizedFormat")(f);m(a,f,g);return c("intlRenderCLDRDate")(g,d,b)}catch(a){c("FBLogger")("i18n-formatDate").event("CLDR_date_format_render_error").blameToPreviousFile().catching(a).mustfix("CLDR date format render error");if(d.throwCLDRError===!0)throw a}else if(c("DateFormatConfig").formats[a])e=c("DateFormatConfig").formats[a],m(a);else if(!c("IsInternSite").is_intern_site)if(a.length!==1)throw c("unrecoverableViolation")("Trying to localize an unsupported date format: `"+a+"`","internationalization");return j(e,d,b)}function j(a,b,d){var e=[];for(var f=0;f<a.length;f++){var g=a.charAt(f);g=c("intlRenderJSDateSymbol")(d,g,b,a,f);e.push(g.rendered);f=g.idx}return e.join("")}function k(a,b){var d=h.DEFAULT_FORMAT;if(typeof b==="string")return b;else if(typeof b==="object"){var e=a.getTime();for(var f=l(),g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=b[j.name];if(k!=null&&j.start<=e&&e<j.end)return k}c("FBLogger")("i18n-formatDate").event("matching_period_format_not_found").blameToPreviousFile().warn('Matching period not found for date "%s", using default format "%s". Current timestamp: "%s"',e,d,Date.now());return d}else{c("FBLogger")("i18n-formatDate").event("invalid_format_argument").blameToPreviousFile().warn('Called with invalid format "%s" (type: %s) for date "%s", using default: %s',b,typeof b,a.getTime(),d);return d}}function l(){var a=new Date(),b=a.getTime(),d=a.getFullYear(),e=a.getMonth(),f=new Date(d,a.getMonth()+1,0).getDate(),g=new Date(d,1,29).getMonth()===1?366:365,h=1e3*60*60*24,i=new Date(a.setHours(0,0,0,0)),j=new Date(d,e,i.getDate()+1);a=a.getDate()-(a.getDay()-c("DateFormatConfig").weekStart+6)%7;var k=new Date(b).setDate(a);a=new Date(b).setDate(a+7);var l=new Date(d,e,1);e=new Date(d,e,f+1);var m=new Date(d,0,1);d=new Date(d+1,0,1);return[{name:"today",start:i.getTime(),end:j.getTime()},{name:"withinDay",start:b-h,end:b+h},{name:"yesterday",start:i.getTime()-h,end:i.getTime()-1},{name:"thisWeek",start:k,end:a},{name:"withinWeek",start:b-h*7,end:b+h*7},{name:"thisMonth",start:l.getTime(),end:e.getTime()},{name:"withinMonth",start:b-h*f,end:b+h*f},{name:"thisYear",start:m.getTime(),end:d.getTime()},{name:"withinYear",start:b-h*g,end:b+h*g},{name:"older",start:-Infinity,end:b},{name:"future",start:b,end:+Infinity},{name:"allOtherTimes",start:-Infinity,end:+Infinity}]}function m(a,b,d){b===void 0&&(b=null),d===void 0&&(d=null),c("Random").random()<c("CLDRDateRenderingClientRollout").formatDateClientLoggerSamplingRate&&c("IntlDateStringsTypedLoggerLite").log({datetime_format:a,logged_from_client:!0,cldr_key:b,cldr_value:d})}b=h;g["default"]=b}),98);